<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Recursive Tech - AI agency specializing in automation, LLMs, MLOps, and enterprise solutions">
    <title>Recursive Tech | AI, Automation & Enterprise Solutions</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #111827; }
        header { background: linear-gradient(135deg,#0f172a 0%,#0ea5e9 100%); color: white; padding: 1rem 0; position: fixed; width: 100%; top: 0; z-index: 1000; box-shadow: 0 2px 8px rgba(2,6,23,0.2);} 
        nav { display:flex; justify-content:space-between; align-items:center; max-width:1200px; margin:0 auto; padding:0 20px; }
        .logo { font-size:1.25rem; font-weight:700; }
        .nav-links { display:flex; list-style:none; gap:1.25rem; }
        .nav-links a { color:white; text-decoration:none; opacity:0.95; }
        .hero { background: linear-gradient(135deg,#0f172a 0%,#0369a1 100%); color:white; padding:120px 20px 80px; text-align:center; margin-top:60px; }
        .hero h1 { font-size:2.6rem; margin-bottom:0.75rem; }
        .hero p { font-size:1.15rem; max-width:900px; margin:0 auto 1.5rem; }
        .cta-button { background:white; color:#0f172a; padding:12px 26px; border-radius:8px; text-decoration:none; font-weight:600; display:inline-block; }
        .container { max-width:1200px; margin:0 auto; padding:60px 20px; }
        .section-title { text-align:center; font-size:2rem; margin-bottom:2rem; color:#0f172a; }
        .services { display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:1.25rem; }
        .service-card { background:white; padding:1.5rem; border-radius:12px; box-shadow:0 6px 18px rgba(2,6,23,0.06); }
        .service-card h3 { color:#0f172a; margin-bottom:0.5rem; font-size:1.05rem; }
        .about { background:#f8fafc; }
        .expertise { display:flex; flex-wrap:wrap; gap:0.6rem; justify-content:center; margin-top:1.25rem; }
        .expertise-tag { background:#06b6d4; color:white; padding:8px 14px; border-radius:999px; font-size:0.85rem; transition:opacity 0.25s; }
        .contact { background:#0f172a; color:white; text-align:center; padding:54px 20px; }
        footer { background:#020617; color:#cbd5e1; text-align:center; padding:2rem; }
        .demo-box { background:white; padding:1rem; border-radius:10px; box-shadow:0 10px 30px rgba(2,6,23,0.08); max-width:900px; margin:1rem auto; }
        .generate-button { background:#0ea5e9; color:white; padding:10px 16px; border:none; border-radius:8px; cursor:pointer; font-weight:600; }
        .muted { color:#64748b; }
        @media (max-width:768px){ .hero h1{font-size:1.6rem;} .nav-links{display:none;} }

        /* Legal & Trust Hub styles */
        .legal-hub { background: linear-gradient(180deg,#fff 0%, #f8fafc 100%); padding:48px 20px; border-top:1px solid #eef2f7; }
        .legal-grid { display:grid; grid-template-columns: 1fr 1fr; gap:20px; align-items:start; max-width:1200px; margin:0 auto; }
        .security-badges { display:flex; flex-direction:column; gap:12px; }
        .badge { display:flex; gap:12px; align-items:center; padding:12px; border-radius:10px; background:#0f172a; color:#fff; box-shadow:0 6px 18px rgba(2,6,23,0.06);} 
        .badge .dot { width:44px; height:44px; border-radius:8px; background: rgba(255,255,255,0.08); display:flex; align-items:center; justify-content:center; font-weight:700; }
        .badge strong { display:block; font-size:1rem; }
        .badge p { margin:0; font-size:0.9rem; color:#cbd5e1; }
        .legal-panel { background:#fff; padding:16px; border-radius:12px; box-shadow:0 8px 30px rgba(2,6,23,0.04); }
        .tab-buttons { display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px; }
        .tab-buttons button { background:#f1f5f9; border:1px solid #e6edf3; padding:8px 12px; border-radius:8px; cursor:pointer; font-weight:600; }
        .tab-buttons button.active { background:#0f172a; color:#fff; border-color:transparent; }
        .tab-content { padding:12px 8px; color:#0f172a; line-height:1.5; white-space:pre-wrap; }
        .tab-actions { margin-top:10px; display:flex; gap:8px; }
        .link-button { background:#0ea5e9; color:#fff; padding:8px 10px; border:none; border-radius:8px; text-decoration:none; cursor:pointer; }
        .modal-overlay { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(2,6,23,0.5); z-index:3000; }
        .modal { background:#fff; width:90%; max-width:720px; border-radius:12px; padding:18px; box-shadow:0 30px 80px rgba(2,6,23,0.3); }
        .modal h3 { margin-top:0; }
        .modal .close { float:right; background:transparent; border:none; font-size:20px; cursor:pointer; }
        @media (max-width:900px){ .legal-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Recursive Tech ‚Äî AI & Automation</div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#automation">Automation</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero" id="home">
        <h1>AI-first Automation & Enterprise Solutions</h1>
        <p>We build, deploy, and operate AI systems that automate business processes, accelerate decisions, and integrate securely with enterprise IAM and compliance frameworks.</p>
        <a href="#automation" class="cta-button">Explore Automation</a>
    </section>

    <div class="container" id="services">
        <h2 class="section-title">Services ‚Äî AI, MLOps & Automation</h2>
        <div class="services">
            <div class="service-card">
                <h3>üß≠ AI Strategy & Roadmapping</h3>
                <p>Align AI initiatives to business goals, build roadmaps for model adoption, and define measurable KPIs for automation success.</p>
            </div>
            <div class="service-card">
                <h3>ü§ñ Automation & RPA</h3>
                <p>Design and implement end-to-end automation pipelines using RPA, serverless functions, and event-driven orchestration.</p>
            </div>
            <div class="service-card">
                <h3>üß† LLMs, Fine-tuning & Prompt Engineering</h3>
                <p>Custom LLM workflows, fine-tuning on domain data, and production-ready prompt engineering to get reliable outputs.</p>
            </div>
            <div class="service-card">
                <h3>‚öôÔ∏è MLOps & Model Deployment</h3>
                <p>Continuous training, CI/CD for models, monitoring, drift detection, and scalable model serving in cloud or on-prem.</p>
            </div>
            <div class="service-card">
                <h3>üîê Identity-aware AI Integrations</h3>
                <p>Integrate AI systems securely with IAM, RBAC, and audit trails so automation respects access controls and compliance.</p>
            </div>
            <div class="service-card">
                <h3>üîó System Integration & Data Engineering</h3>
                <p>Data pipelines, ETL, connectors to SSO, databases, SaaS, and message buses for reliable model inputs and observability.</p>
            </div>
        </div>
    </div>

    <section class="about" id="about">
        <div class="container">
            <h2 class="section-title">Our Expertise</h2>
            <p style="text-align:center; max-width:900px; margin:0 auto 1.25rem; font-size:1rem;">We combine enterprise security and identity experience with modern AI engineering to deliver automation that is secure, auditable, and scalable.</p>
            <div class="expertise">
                <span class="expertise-tag">LLMs</span>
                <span class="expertise-tag">Prompt Engineering</span>
                <span class="expertise-tag">MLOps</span>
                <span class="expertise-tag">RPA</span>
                <span class="expertise-tag">IAM Integration</span>
                <span class="expertise-tag">Data Engineering</span>
                <span class="expertise-tag">CI/CD</span>
                <span class="expertise-tag">Monitoring</span>
                <span class="expertise-tag">Compliance</span>
                <span class="expertise-tag">Cloud</span>
            </div>
        </div>
    </section>

    <section class="container" id="automation">
        <h2 class="section-title">Automation Capabilities</h2>
        <div class="demo-box">
            <h3>Automation Capabilities</h3>
            <ul style="margin-top:0.75rem;">
                <li>Automated model training & retraining pipelines (scheduled and event-driven)</li>
                <li>Policy-driven access approvals and IAM-aware workflow automation</li>
                <li>Webhook and event-based connectors for real-time automation</li>
                <li>Auto-generated documentation and runbooks from deployment metadata</li>
            </ul>
        </div>
    </section>

    <section class="contact" id="contact">
        <h2>Start Your AI Automation Journey</h2>
        <p>Ready to ship AI-powered automation that integrates with your enterprise systems and security controls?</p>
        <a href="mailto:recursivetechsolution@gmail.com" class="cta-button">Contact Us</a>
    </section>

    <section class="legal-hub" id="legal">
        <div class="container">
            <h2 class="section-title">Legal & Trust Hub</h2>
            <div class="legal-grid">
                <div class="security-badges" aria-hidden="false">
                    <div class="badge" title="AES-256 Encryption">
                        <div class="dot">üîí</div>
                        <div>
                            <strong>AES-256 Encryption</strong>
                            <p>256-bit AES on all stored data</p>
                        </div>
                    </div>

                    <div class="badge" title="Zero Data Retention AI">
                        <div class="dot">üß†</div>
                        <div>
                            <strong>Zero Data Retention AI</strong>
                            <p>We do not retain AI training data; zero-retention policies for enterprise APIs</p>
                        </div>
                    </div>
                </div>

                <div class="legal-panel" role="region" aria-label="Legal and trust content">
                    <div class="tab-buttons" role="tablist" aria-label="Legal tabs">
                        <button class="tab-btn active" data-tab="privacy" role="tab" aria-selected="true">Privacy Policy</button>
                        <button class="tab-btn" data-tab="security" role="tab" aria-selected="false">Security Standard</button>
                        <button class="tab-btn" data-tab="terms" role="tab" aria-selected="false">Terms of Service</button>
                    </div>

                    <div id="privacy" class="tab-content" role="tabpanel">
                        Recursive Tech Solution acts as a Data Processor. The Client is the Data Controller and owner of all message data. We use enterprise-grade AI APIs with Zero-Retention policies, meaning your data is never used to train public models. All communication data from WhatsApp, Instagram, and other platforms is encrypted and processed only to deliver services.
                        <div class="tab-actions"><a class="link-button" href="/privacy.html" target="_blank" rel="noopener">Read Full</a></div>
                    </div>

                    <div id="security" class="tab-content" role="tabpanel" style="display:none;">
                        We use 256-bit AES encryption for all stored data and SSL/TLS for data in transit. We host on private, regional cloud servers to ensure data sovereignty. Our "Recursive Command Center" uses isolated infrastructure to ensure your business data is never shared or leaked.
                        <div class="tab-actions"><a class="link-button" href="/security.html" target="_blank" rel="noopener">Read Full</a></div>
                    </div>

                    <div id="terms" class="tab-content" role="tabpanel" style="display:none;">
                        By using Recursive Tech Solution, you agree that you are responsible for reviewing AI-drafted content. We provide 99.9% uptime but are not liable for third-party platform outages (Meta/TikTok). We are an AI automation provider, and users must comply with local communication laws.
                        <div class="tab-actions"><a class="link-button" href="/terms.html" target="_blank" rel="noopener">Read Full</a></div>
                    </div>
                </div>
            </div>
        </div>


    </section>

    <footer class="site-footer">
        <div class="wrap">
            <div class="brand small">Recursive Tech Solution</div>
            <div class="footer-links">
                <a href="/privacy.html">Privacy</a>
                <a href="/security.html">Security</a>
                <a href="/terms.html">Terms</a>
                <a href="mailto:recursivetechsolution@gmail.com">Contact</a>
            </div>
            <div class="small">&copy; 2025 Recursive Tech Solution</div>
        </div>
    </footer>

    <!-- Chat widget -->
    <div id="chat-widget" style="position:fixed; right:18px; bottom:18px; z-index:2000; font-family:inherit;">
        <button id="chat-toggle" title="Open chat" style="background:#0ea5e9; color:#fff; border:none; padding:12px 14px; border-radius:999px; box-shadow:0 8px 20px rgba(2,6,23,0.2); cursor:pointer;">Chat</button>
        <div id="chat-panel" style="display:none; width:360px; max-width:calc(100vw - 40px); background:#fff; color:#0f172a; border-radius:12px; box-shadow:0 20px 50px rgba(2,6,23,0.2); margin-bottom:10px; overflow:hidden;">
            <div style="background:#0f172a; color:#fff; padding:12px 14px; display:flex; justify-content:space-between; align-items:center;">
                <div style="font-weight:700;">Assistant ‚Äî Recursive Tech</div>
                <button id="chat-close" style="background:transparent; border:none; color:#cbd5e1; font-weight:700; cursor:pointer;">√ó</button>
            </div>
            <div style="padding:10px; background:#fff; border-bottom:1px solid #eef2f7;">
                <div style="font-size:0.95rem; color:#475569; margin-bottom:8px;">Before we help, please provide a few details so we can personalize answers.</div>
                <div style="display:flex; gap:8px; margin-bottom:8px;">
                    <input id="first-name" placeholder="First name" style="flex:1; padding:8px 10px; border-radius:8px; border:1px solid #e6edf3;" />
                    <input id="last-name" placeholder="Last name" style="flex:1; padding:8px 10px; border-radius:8px; border:1px solid #e6edf3;" />
                </div>
                <div style="display:flex; gap:8px; margin-bottom:8px;">
                    <input id="email" placeholder="Email" style="flex:1; padding:8px 10px; border-radius:8px; border:1px solid #e6edf3;" />
                    <input id="business" placeholder="Business name (optional)" style="flex:1; padding:8px 10px; border-radius:8px; border:1px solid #e6edf3;" />
                </div>
                <div style="display:flex; gap:8px;">
                    <button id="save-profile" style="background:#06b6d4; color:#fff; border:none; padding:8px 10px; border-radius:8px; cursor:pointer;">Save Info</button>
                    <button id="clear-profile" style="background:#f1f5f9; color:#0f172a; border:1px solid #e6edf3; padding:8px 10px; border-radius:8px; cursor:pointer;">Clear</button>
                </div>
            </div>
            <div id="chat-messages" style="height:220px; overflow:auto; padding:12px; display:flex; flex-direction:column; gap:8px; background:#f8fafc;"></div>
            <div style="padding:10px; display:flex; gap:8px; background:#fff;">
                <input id="chat-input" placeholder="Short query (e.g., automate onboarding)" style="flex:1; padding:10px 12px; border-radius:8px; border:1px solid #e6edf3; outline:none;" />
                <button id="chat-send" style="background:#0f172a; color:#fff; border:none; padding:10px 12px; border-radius:8px; cursor:pointer;">Send</button>
            </div>
            <div style="padding:8px; display:flex; gap:8px; justify-content:center; background:#fff; border-top:1px solid #eef2f7;">
                <button id="export-email" style="background:#0ea5e9; color:#fff; border:none; padding:8px 10px; border-radius:8px; cursor:pointer;">Send via Email</button>
                <button id="export-wa" style="background:#25D366; color:#fff; border:none; padding:8px 10px; border-radius:8px; cursor:pointer;">Send via WhatsApp</button>
            </div>
        </div>
    </div>

    <script>
        // enhanced chat widget: collects profile, stores conversation, and exports via email/WhatsApp
        (function(){
            const toggle = document.getElementById('chat-toggle');
            const panel = document.getElementById('chat-panel');
            const close = document.getElementById('chat-close');
            const send = document.getElementById('chat-send');
            const input = document.getElementById('chat-input');
            const messages = document.getElementById('chat-messages');
            const saveBtn = document.getElementById('save-profile');
            const clearBtn = document.getElementById('clear-profile');
            const exportEmail = document.getElementById('export-email');
            const exportWA = document.getElementById('export-wa');

            const firstNameEl = document.getElementById('first-name');
            const lastNameEl = document.getElementById('last-name');
            const emailEl = document.getElementById('email');
            const businessEl = document.getElementById('business');

            let convo = [];
            let profile = { firstName:'', lastName:'', email:'', business:'' };

            function appendMessage(who, text){
                const wrap = document.createElement('div');
                wrap.style.display = 'flex';
                wrap.style.flexDirection = 'column';
                const bubble = document.createElement('div');
                bubble.textContent = text;
                bubble.style.padding = '8px 10px';
                bubble.style.borderRadius = '8px';
                bubble.style.maxWidth = '85%';
                bubble.style.wordBreak = 'break-word';
                if(who === 'user'){ wrap.style.alignItems = 'flex-end'; bubble.style.background = '#0f172a'; bubble.style.color = '#fff'; }
                else { wrap.style.alignItems = 'flex-start'; bubble.style.background = '#e6f6fb'; bubble.style.color = '#063444'; }
                wrap.appendChild(bubble);
                messages.appendChild(wrap);
                messages.scrollTop = messages.scrollHeight;
                convo.push({who, text, ts: Date.now()});
            }

            function isProfileComplete(){
                return profile.firstName.trim() && profile.email.trim();
            }

            function saveProfileFromInputs(){
                profile.firstName = firstNameEl.value.trim();
                profile.lastName = lastNameEl.value.trim();
                profile.email = emailEl.value.trim();
                profile.business = businessEl.value.trim();
                if(isProfileComplete()){
                    appendMessage('bot', `Thanks ${profile.firstName}! I can now provide personalized help. Ask a short question.`);
                    persistAll();
                    return true;
                } else {
                    appendMessage('bot', 'Please provide at least your first name and email so we can follow up.');
                    return false;
                }
            }

            function clearProfile(){
                profile = { firstName:'', lastName:'', email:'', business:'' };
                firstNameEl.value = lastNameEl.value = emailEl.value = businessEl.value = '';
                appendMessage('bot','Profile cleared. Provide your details to receive personalized responses.');
                persistAll();
            }

            function generateBotResponse(text){
                const t = text.toLowerCase();
                // intents: automation, website, human
                if(/automation|rpa|pipeline|mlops/.test(t)){
                    // ask for use case and save expected answer
                    expecting = 'use_case';
                    appendMessage('bot', 'Great ‚Äî what business process would you like to automate? (brief)');
                    return null;
                }
                if(/website|web site|site|landing/.test(t)){
                    expecting = 'website_requirements';
                    appendMessage('bot', 'Understood ‚Äî do you need design, development, or hosting? Please reply briefly.');
                    return null;
                }
                if(/talk to human|human|person|support/.test(t)){
                    appendMessage('bot', 'I can connect you to a human. Would you like to schedule a short call? Click Schedule to open your calendar.');
                    appendScheduleButton();
                    return null;
                }
                if(/pricing|cost|quote/.test(t)) return `We provide custom quotes after a short discovery. I'll prepare an initial estimate and follow up at ${profile.email || 'your email'}.`;
                if(/iam|identity|access/.test(t)) return 'We integrate IAM with automation flows and LLMs to ensure secure, access-aware automation. Tell me your main system (e.g., SailPoint, Okta) and target workflows.';
                if(/hello|hi|hey/.test(t)) return `Hi ${profile.firstName || ''} ‚Äî how can I help you today?`;
                if(/demo|example|show/.test(t)) return 'We can demo a small automation or model prototype. Provide one-sentence use case and preferred environment (cloud/on-prem).';
                if(/what do you know|what do you have|what do you remember|what do you know about me/.test(t)){
                    const kb = window.rt_kb || {};
                    const lines = Object.keys(kb).length? Object.entries(kb).map(([k,v])=> `${k}: ${v}`).join('\n') : 'No saved answers yet.';
                    return `Saved info:\n${lines}`;
                }
                // fallback: attempt to be helpful with steps
                return `Thanks ‚Äî here are recommended next steps:\n1) Define the use case and success metrics.\n2) Share sample data/connectors.\n3) Schedule a short discovery. We will follow up at ${profile.email || 'your email'}.`;
            }

            function botReply(userText){
                // if expecting an answer to a saved key, capture it
                if(expecting){
                    const key = expecting;
                    window.rt_kb = window.rt_kb || {};
                    window.rt_kb[key] = userText;
                    appendMessage('bot', `Saved your answer for "${key}".`);
                    expecting = null; persistAll();
                    return;
                }

                appendMessage('bot','...');
                setTimeout(()=>{
                    const last = messages.lastChild; if(last) messages.removeChild(last);
                    const r = generateBotResponse(userText);
                    if(r === null) { persistAll(); return; }
                    appendMessage('bot', r);
                    persistAll();
                }, 800 + Math.min(userText.length * 8, 900));
            }

            function exportConversationAsText(){
                const header = `Contact from Recursive Tech\nName: ${profile.firstName || ''} ${profile.lastName || ''}\nEmail: ${profile.email || ''}\nBusiness: ${profile.business || ''}\n\n`;
                const body = convo.map(c=> `[${new Date(c.ts).toLocaleString()}] ${c.who.toUpperCase()}: ${c.text}`).join('\n');
                return header + body;
            }

            function openMailClient(){
                const subject = encodeURIComponent(`Recursive Tech Inquiry from ${profile.firstName || ''} ${profile.lastName || ''}`);
                const body = encodeURIComponent(exportConversationAsText());
                window.open(`mailto:${profile.email ? profile.email : 'recursivetechsolution@gmail.com'}?subject=${subject}&body=${body}`);
            }

            function openWhatsApp(){
                const text = encodeURIComponent(exportConversationAsText());
                // wa.me with text parameter
                window.open(`https://wa.me/?text=${text}`);
            }

            function appendScheduleButton(){
                // append a message with a schedule link to Google Calendar event editor
                const title = encodeURIComponent('Discovery call with Recursive Tech');
                const details = encodeURIComponent(exportConversationAsText());
                const url = `https://calendar.google.com/calendar/u/0/r/eventedit?text=${title}&details=${details}`;
                const wrap = document.createElement('div');
                wrap.style.display = 'flex'; wrap.style.justifyContent = 'center';
                const a = document.createElement('a');
                a.href = url; a.target = '_blank';
                a.textContent = 'Schedule a call (open calendar)';
                a.style.display = 'inline-block'; a.style.background = '#0ea5e9'; a.style.color = '#fff'; a.style.padding = '8px 10px'; a.style.borderRadius = '8px'; a.style.textDecoration = 'none';
                wrap.appendChild(a);
                messages.appendChild(wrap);
                messages.scrollTop = messages.scrollHeight;
            }

            // LEGAL HUB: tabs handling (Read Full opens separate pages)
            (function(){
                const tabBtns = document.querySelectorAll('.tab-btn');
                const tabs = document.querySelectorAll('.tab-content');
                function showTab(id){
                    tabs.forEach(t=> t.style.display = (t.id === id) ? 'block' : 'none');
                    tabBtns.forEach(b=> { b.classList.toggle('active', b.dataset.tab === id); b.setAttribute('aria-selected', b.dataset.tab === id); });
                }
                tabBtns.forEach(b=> b.addEventListener('click', ()=> showTab(b.dataset.tab)));
                showTab('privacy');
            })();

            toggle.addEventListener('click', ()=>{ panel.style.display = panel.style.display === 'none' ? 'block' : 'none'; if(panel.style.display==='block') input.focus(); });
            close.addEventListener('click', ()=>{ panel.style.display='none'; });

            saveBtn.addEventListener('click', ()=>{ saveProfileFromInputs(); });
            clearBtn.addEventListener('click', ()=>{ clearProfile(); });

            send.addEventListener('click', ()=>{ const v = input.value.trim(); if(!v) return; if(!isProfileComplete()){ appendMessage('user', v); input.value=''; appendMessage('bot','Please save your name and email first so we can follow up.'); return; } appendMessage('user', v); input.value=''; botReply(v); input.focus(); });
            input.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ e.preventDefault(); send.click(); } });

            exportEmail.addEventListener('click', ()=>{ if(!profile.email){ appendMessage('bot','Please save your email first so we can prefill the message.'); return; } openMailClient(); });
            exportWA.addEventListener('click', ()=>{ openWhatsApp(); });

            // initial greeting
            setTimeout(()=>{ appendMessage('bot','Hi ‚Äî how can I help you today? Please save your name and email so I can follow up.'); }, 400);

            // restore persisted state (profile, convo, knowledge)
            try{
                const savedProfile = localStorage.getItem('rt_profile');
                const savedConvo = localStorage.getItem('rt_convo');
                const savedKB = localStorage.getItem('rt_kb');
                if(savedProfile){ profile = JSON.parse(savedProfile); firstNameEl.value = profile.firstName || ''; lastNameEl.value = profile.lastName || ''; emailEl.value = profile.email || ''; businessEl.value = profile.business || ''; appendMessage('bot', `Profile loaded for ${profile.firstName || 'user'}.`); }
                if(savedConvo){ convo = JSON.parse(savedConvo); convo.forEach(c=> appendMessage(c.who, c.text)); }
                if(savedKB){ window.rt_kb = JSON.parse(savedKB); }
            }catch(e){ console.warn('restore error', e); }

            // persist helper
            function persistAll(){ localStorage.setItem('rt_profile', JSON.stringify(profile)); localStorage.setItem('rt_convo', JSON.stringify(convo)); localStorage.setItem('rt_kb', JSON.stringify(window.rt_kb || {})); }

            // subtle tag highlight rotation (kept from previous behavior)
            setInterval(()=>{ try{ const tags = document.querySelectorAll('.expertise-tag'); let i = 0; if(tags.length){ setInterval(()=>{ tags.forEach(t=> t.style.opacity = '0.6'); tags[i % tags.length].style.opacity = '1'; i++; }, 2200); } }catch(e){} }, 5000);
        })();
    </script>
</body>
</html>
